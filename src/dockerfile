#QUAL IMAGEM IRÁ USAR COMO BASE
FROM node:18.1.0-alpine

#CRIA DIRETÓRIO DE TRABALHO
WORKDIR /app

#COPIA ARQUIVOS DOS MÓDULOS UTILIZADOS NO PROJETO PARA O WORKDIR
COPY ./package* .

#EXECUTA O COMANDO PARA INSTALAR OS MÓDULOS
RUN npm install

#COPIA O RESTANTE DOS ARQUIVOS
COPY . .

#EXPÕE A PORTA PARA CONEXÃO COM O CONTAINER
EXPOSE 8080

#EXECUTA O SERVIDOR NODEJS PARA RODAR A APLICAÇÃO
CMD [ "node", "server.js" ]